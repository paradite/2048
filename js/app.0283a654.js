(function(r){function e(e){for(var n,i,s=e[0],c=e[1],u=e[2],f=0,w=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&w.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(r[n]=c[n]);l&&l(e);while(w.length)w.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var r,e=0;e<a.length;e++){for(var t=a[e],n=!0,s=1;s<t.length;s++){var c=t[s];0!==o[c]&&(n=!1)}n&&(a.splice(e--,1),r=i(i.s=t[0]))}return r}var n={},o={app:0},a=[];function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=r,i.c=n,i.d=function(r,e,t){i.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:t})},i.r=function(r){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,e){if(1&e&&(r=i(r)),8&e)return r;if(4&e&&"object"===typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var n in r)i.d(t,n,function(e){return r[e]}.bind(null,n));return t},i.n=function(r){var e=r&&r.__esModule?function(){return r["default"]}:function(){return r};return i.d(e,"a",e),e},i.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},i.p="/vue2048/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;a.push([0,"chunk-vendors"]),t()})({0:function(r,e,t){r.exports=t("56d7")},"0134":function(r,e,t){"use strict";var n=t("2976"),o=t.n(n);o.a},"034f":function(r,e,t){"use strict";var n=t("85ec"),o=t.n(n);o.a},2023:function(r,e,t){"use strict";var n=t("cb40"),o=t.n(n);o.a},2976:function(r,e,t){},"56d7":function(r,e,t){"use strict";t.r(e);t("e260"),t("e6cf"),t("cca6"),t("a79d");var n=t("2b0e"),o=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{attrs:{id:"app"}},[r._m(0),t("GameBoard",{attrs:{game:r.game}})],1)},a=[function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"header"},[r._v(" 2048 Game by "),t("a",{attrs:{href:"https://github.com/paradite/vue2048"}},[r._v("@paradite")])])}],i=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"board",style:{width:r.totalSize+"px",height:r.totalSize+"px",padding:r.marginSize+"px"}},r._l(r.game.rows,(function(e,n){return t("Row",{key:n,attrs:{row:e,cellSize:r.cellSize,marginSize:r.marginSize,totalSize:r.totalSize,last:n===r.game.rows.length-1}})})),1)},s=[],c=(t("99af"),t("3835")),u=t("d4ec"),l=t("ade3"),f=t("cd3f"),w=t.n(f),h=(t("b64b"),function(r){console.log("----");for(var e=0;e<r.length;e++){for(var t="",n=r[e],o=0;o<n.length;o++)n[o]?t+=n[o]+" ":t+=". ";console.log(t)}}),d={ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown"},g=function r(){var e=this;Object(u["a"])(this,r),Object(l["a"])(this,"addRandomNumbers",(function(){for(var r=0;r<2;r++){var t=e.getRandomPosition(),n=e.getRandomPosition(),o=3;while(e.rows[t][n]&&o)t=e.getRandomPosition(),n=e.getRandomPosition(),o--;if(e.rows[t][n])return;var a=e.getRandomNumber();e.rows[t][n]=a}})),Object(l["a"])(this,"getRandomPosition",(function(){var r=Math.random();return r<.25?0:r<.5?1:r<.75?2:3})),Object(l["a"])(this,"getRandomNumber",(function(){return 2})),Object(l["a"])(this,"getMoveDestination",(function(r,t,n,o,a){switch(o){case d.ArrowUp:if(0===r)return[r,t];for(var i=r-1;i>=0;i--)if(a["".concat(i,"-").concat(t)]){if(e.rows[i][t])return[i+1,t]}else if(e.rows[i][t])return e.rows[i][t]!==n?[i+1,t]:[i,t];return[r,t];case d.ArrowDown:if(r===e.rows.length-1)return[r,t];for(var s=r+1;s<=e.rows.length-1;s++)if(a["".concat(s,"-").concat(t)]){if(e.rows[s][t])return[s-1,t]}else if(e.rows[s][t])return e.rows[s][t]!==n?[s-1,t]:[s,t];return[r,t];case d.ArrowLeft:if(0===t)return[r,t];for(var c=t-1;c>=0;c--)if(a["".concat(r,"-").concat(c)]){if(e.rows[r][c])return[r,c+1]}else if(e.rows[r][c])return e.rows[r][c]!==n?[r,c+1]:[r,c];return[r,t];case d.ArrowRight:if(t===e.rows[0].length-1)return[r,t];for(var u=t+1;u<=e.rows[0].length-1;u++)if(a["".concat(r,"-").concat(u)]){if(e.rows[r][u])return[r,u-1]}else if(e.rows[r][u])return e.rows[r][u]!==n?[r,u-1]:[r,u];return[r,t];default:break}})),Object(l["a"])(this,"handleEvent",(function(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1,o=0;o<e.rows.length;o++)for(var a=e.rows[o],i=0;i<a.length;i++)if(!t["".concat(o,"-").concat(i)]){var s=a[i];if(s){var u=e.getMoveDestination(o,i,s,r,t);if(u){var l=Object(c["a"])(u,2),f=l[0],d=l[1];if(f===o&&d===i)continue;t["".concat(f,"-").concat(d)]=!0,n=!0,a[i]=void 0,e.rows[f][d]?(s!==e.rows[f][d]&&console.error("element ".concat(s," from ").concat(o,",").concat(i," moved to ").concat(f,",").concat(d," with ").concat(e.rows[f][d])),e.rows[f][d]=s+e.rows[f][d]):e.rows[f][d]=s}}}n?e.handleEvent(r,t):(e.squeeze(r),e.addRandomNumbers(),h(e.rows),e.rows=w()(e.rows))})),Object(l["a"])(this,"squeeze",(function(r){for(var t=!1,n=0;n<e.rows.length;n++)for(var o=e.rows[n],a=0;a<o.length;a++){var i=o[a];if(i){var s=e.getSqueezeDestination(n,a,r);if(s){var u=Object(c["a"])(s,2),l=u[0],f=u[1];if(l===n&&f===a)continue;t=!0,o[a]=void 0,e.rows[l][f]?(console.error("something wrong r c",l,f),console.error("this.rows[r][c]",e.rows[l][f])):e.rows[l][f]=i}}}t&&(e.rows=w()(e.rows),e.squeeze(r))})),Object(l["a"])(this,"getSqueezeDestination",(function(r,t,n){switch(n){case d.ArrowUp:if(0===r)return[r,t];for(var o=r-1;o>=0;o--)if(e.rows[o][t])return[o+1,t];return[0,t];case d.ArrowDown:if(r===e.rows.length-1)return[r,t];for(var a=r+1;a<=e.rows.length-1;a++)if(e.rows[a][t])return[a-1,t];return[e.rows.length-1,t];case d.ArrowLeft:if(0===t)return[r,t];for(var i=t-1;i>=0;i--)if(e.rows[r][i])return[r,i+1];return[r,0];case d.ArrowRight:if(t===e.rows[0].length-1)return[r,t];for(var s=t+1;s<=e.rows[0].length-1;s++)if(e.rows[r][s])return[r,s-1];return[r,e.rows[0].length-1];default:break}})),this.rows=new Array(4);for(var t=0;t<this.rows.length;t++)this.rows[t]=new Array(4);this.addRandomNumbers(),this.moved={}},p=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"row",style:{width:r.totalSize+"px",height:r.cellSize+"px",marginBottom:r.last?0:r.marginSize+"px"}},r._l(r.row,(function(e,n){var o;return t("div",{key:n,staticClass:"cell",class:(o={},o["cell-"+e]=!0,o),style:{width:r.cellSize+"px",height:r.cellSize+"px",marginRight:n===r.row.length-1?0:r.marginSize+"px"}},[r._v(" "+r._s(e)+" ")])})),0)},v=[],m=(t("a9e3"),{name:"Row",props:{row:Array,cellSize:Number,marginSize:Number,totalSize:Number,last:Boolean}}),b=m,S=(t("2023"),t("2877")),y=Object(S["a"])(b,p,v,!1,null,"952ee07a",null),z=y.exports,O={name:"GameBoard",components:{Row:z},data:function(){var r=70,e=10;return{cellSize:r,marginSize:e}},computed:{totalSize:function(){return 4*this.cellSize+3*this.marginSize}},props:{game:g,rows:Array}},j=O,A=(t("0134"),Object(S["a"])(j,i,s,!1,null,"2840321e",null)),_=A.exports,x=new g,R={name:"App",components:{GameBoard:_},mounted:function(){window.onkeyup=function(r){x.handleEvent(r.code)}},data:function(){return{game:x,rows:x.rows}}},P=R,k=(t("034f"),Object(S["a"])(P,o,a,!1,null,null,null)),D=k.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(r){return r(D)}}).$mount("#app")},"85ec":function(r,e,t){},cb40:function(r,e,t){}});
//# sourceMappingURL=app.0283a654.js.map